{"version":3,"file":"static/js/6598.0ebd5197.chunk.js","mappings":"wQAI+aA,EAAC,0CAAiB,WAAYC,GAAE,6BAAC,cAAMA,IAAQC,MAAM,IAAIC,IAAzB,EAA/B,sCAA4D,WAAUC,KAAKF,MAAMG,QAAQD,KAAKE,MAAMF,KAAKG,UAAUH,KAAKI,aAAaJ,KAAKF,MAAM,OAAhJ,oBAAqJ,WAAe,OAAOE,KAAKK,eAAhL,yBAA6L,SAAYR,GAAE,WAAOS,EAAEN,KAAKO,WAAWV,GAAG,OAAOS,EAAEE,KAAK,WAAW,kBAAI,EAAKC,aAAa,eAAcT,KAAKF,MAAMY,IAAIb,EAAEc,GAAGL,GAAGA,IAA3T,yCAA6T,cAA7T,yBAA4V,SAAYT,GAAGG,KAAKF,MAAMc,QAAQf,KAA9X,yBAAiY,SAAYA,GAAGG,KAAKF,MAAMe,OAAOhB,EAAEiB,IAAIH,IAAIX,KAAKe,YAAYlB,KAA7b,wBAAgc,WAAa,IAAIA,GAAE,EAAG,OAAOG,KAAKF,MAAMc,SAAS,SAAAN,GAAIT,EAAEA,GAAGS,EAAEU,YAAYnB,IAAxgB,0BAA0gB,cAA1gB,8BAA0hB,cAA1hB,2BAA8iB,WAAgBG,KAAKG,UAAUc,oBAA7kB,GAAeX,EAAAA,IAAglBT,EAAAA,EAAAA,GAAE,EAACqB,EAAAA,EAAAA,OAAKtB,EAAEuB,UAAU,aAAQ,IAAQtB,EAAAA,EAAAA,GAAE,EAACqB,EAAAA,EAAAA,OAAKtB,EAAEuB,UAAU,iBAAY,IAAQtB,EAAAA,EAAAA,GAAE,EAACqB,EAAAA,EAAAA,OAAKtB,EAAEuB,UAAU,oBAAe,IAAQtB,EAAAA,EAAAA,GAAE,EAACqB,EAAAA,EAAAA,OAAKtB,EAAEuB,UAAU,WAAW,MAAiF,IAAMC,EAAjFxB,GAAEC,EAAAA,EAAAA,GAAE,EAACwB,EAAAA,EAAAA,GAAE,iEAAiEzB,I,wNCA3pCA,EAAAA,WAAE,cAAa,eAACI,KAAKsB,SAAS,KAAKtB,KAAKuB,OAAO,IAAIvB,KAAKwB,MAAM,I,qCAAI,SAAO5B,IAAGU,EAAAA,EAAAA,IAAEV,EAAE,IAAII,KAAKyB,YAAYzB,KAAKsB,SAAStB,KAAK0B,WAAW1B,KAAK2B,gB,EAAxI/B,GCA0hBwB,EAAC,0CAAiB,WAAYvB,GAAE,6BAAC,cAAMA,IAAQ+B,eAAe,CAACF,WAAW,EAAEC,WAAW,GAAG,EAAKE,KAAK,UAAU,EAAKC,aAAa,CAACC,cAAc,CAACC,WAAW,aAAOf,cAAc,cAAQgB,cAAc,cAAQ,EAAKC,WAAW,IAAIhB,EAAAA,EAAErB,EAAEO,cAAtM,EAA/B,yCAAmP,SAAWP,GAAG,IAAMS,EAAEN,KAAKkC,WAAW3B,WAAWV,GAAG,OAAOG,KAAKI,aAAa+B,cAAc7B,EAAE8B,OAAOvC,GAAGS,EAAE8B,OAAOC,WAAWrC,KAAKI,aAAakC,kBAAkBzC,GAAGS,IAArZ,4BAAuZ,WAAgB,WAAOT,EAAEG,KAAKE,MAAMqC,SAAS,GAAG,YAAY1C,EAAEgC,KAAK,CAAC,IAAiBvB,EAA6BT,EAAxC6B,WAAwBR,EAAgBrB,EAA3B8B,WAAwBN,EAAGxB,EAAd2C,WAAgBxC,KAAK4B,eAAeF,WAAWpB,EAAEN,KAAK4B,eAAeD,WAAWT,EAAElB,KAAKyC,WAAU7C,EAAAA,EAAAA,IAAEyB,GAAGrB,KAAKF,MAAMc,SAAS,SAAAf,GAAI,IAAMD,EAAEC,EAAEuC,OAAOM,OAAO9C,IAAIA,EAAE8B,WAAWpB,EAAEV,EAAE+B,WAAWT,EAAEtB,EAAE0B,SAAS,EAAKmB,UAAU5C,EAAEuC,OAAOO,2BAAttB,qBAA+uB,WAAU,OAAOC,QAAQC,QAAQ,MAAhxB,qBAAoxB,SAAQhD,GAAGA,EAAEiD,SAAS9C,KAAKkC,cAA/yB,uBAA2zB,SAAUrC,GAAGG,KAAKkC,WAAWa,oBAAoBlD,EAAEmD,YAAYhD,KAAKkC,cAA/3B,yBAA24B,SAAYrC,GAAGG,KAAKkC,WAAWc,YAAYnD,GAAGA,EAAEoD,YAA37B,8BAAq8B,SAAiBpD,GAAG,OAAOA,GAAG,YAAYA,EAAEgC,OAAj/B,wBAAs/B,SAAWhC,GAAG,IAAMS,EAAEN,KAAKF,MAAMoD,IAAIrD,EAAEsD,SAAS,GAAI7C,EAAJ,CAAmB,IAAAV,EAAEC,EAAEuD,cAAJ,EAA8CpD,KAAK4B,eAArBV,EAA9B,EAAmBQ,WAAwBL,EAA3C,EAAgCM,WAAkCP,EAAEd,EAAE8B,OAAOM,QAAQ,IAAIW,EAAEjC,EAAEK,YAAY7B,GAAGA,EAAE0D,QAAQ,KAAKlC,EAAEM,WAAWR,EAAEE,EAAEO,WAAWN,EAAED,EAAEE,SAAStB,KAAKyC,UAAUnC,EAAE8B,OAAOM,OAAOtB,EAAEpB,KAAKkC,WAAWY,SAASxC,GAAGN,KAAKkC,WAAWD,gBAAgBjC,KAAKiB,mBAA/zC,yBAA+0C,SAAYpB,GAAG0D,QAAQC,MAAM3D,KAA52C,4BAA+2C,cAA/2C,8BAAi4C,cAAj4C,2BAAq5C,SAAcA,EAAES,GAAG,OAAOiD,QAAQC,MAAM3D,GAAG+C,QAAQa,aAAx8C,GAAepC,EAAAA,GAAwhDqC,EAApFtC,GAAEvB,EAAAA,EAAAA,GAAE,EAACS,EAAAA,EAAAA,GAAE,oEAAoEc","sources":["../node_modules/@arcgis/core/views/2d/layers/features/tileRenderers/BaseTileRenderer.js","../node_modules/@arcgis/core/views/2d/layers/features/tileRenderers/support/HeatmapSource.js","../node_modules/@arcgis/core/views/2d/layers/features/tileRenderers/HeatmapTileRenderer.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import{HandleOwner as t}from\"../../../../../core/HandleOwner.js\";import{property as s}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/arrayUtils.js\";import\"../../../../../core/has.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{subclass as r}from\"../../../../../core/accessorSupport/decorators/subclass.js\";let i=class extends t{constructor(e){super(e),this.tiles=new Map}destroy(){this.tiles.clear(),this.layer=this.layerView=this.tileInfoView=this.tiles=null}get updating(){return this.isUpdating()}acquireTile(e){const t=this.createTile(e);return t.once(\"isReady\",(()=>this.notifyChange(\"updating\"))),this.tiles.set(e.id,t),t}forceAttributeTextureUpload(){}forEachTile(e){this.tiles.forEach(e)}releaseTile(e){this.tiles.delete(e.key.id),this.disposeTile(e)}isUpdating(){let e=!0;return this.tiles.forEach((t=>{e=e&&t.isReady})),!e}setHighlight(){}invalidateLabels(){}requestUpdate(){this.layerView.requestUpdate()}};e([s()],i.prototype,\"layer\",void 0),e([s()],i.prototype,\"layerView\",void 0),e([s()],i.prototype,\"tileInfoView\",void 0),e([s()],i.prototype,\"updating\",null),i=e([r(\"esri.views.2d.layers.features.tileRenderers.BaseTileRenderer\")],i);const o=i;export{o as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{drawHeatmap as t}from\"../../../../../../renderers/support/heatmapUtils.js\";class i{constructor(){this.gradient=null,this.height=512,this.width=512}render(i){t(i,512,this.intensities,this.gradient,this.minDensity,this.maxDensity)}}export{i as HeatmapSource};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import\"../../../../../core/arrayUtils.js\";import\"../../../../../core/has.js\";import\"../../../../../core/accessorSupport/set.js\";import{subclass as t}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{generateGradient as i}from\"../../../../../renderers/support/heatmapUtils.js\";import{BitmapTileContainer as s}from\"../../../engine/BitmapTileContainer.js\";import r from\"./BaseTileRenderer.js\";import{HeatmapSource as n}from\"./support/HeatmapSource.js\";let o=class extends r{constructor(e){super(e),this._intensityInfo={minDensity:0,maxDensity:0},this.type=\"heatmap\",this.featuresView={attributeView:{initialize:()=>{},requestUpdate:()=>{}},requestRender:()=>{}},this._container=new s(e.tileInfoView)}createTile(e){const t=this._container.createTile(e);return this.tileInfoView.getTileCoords(t.bitmap,e),t.bitmap.resolution=this.tileInfoView.getTileResolution(e),t}onConfigUpdate(){const e=this.layer.renderer;if(\"heatmap\"===e.type){const{minDensity:t,maxDensity:s,colorStops:r}=e;this._intensityInfo.minDensity=t,this._intensityInfo.maxDensity=s,this._gradient=i(r),this.tiles.forEach((e=>{const i=e.bitmap.source;i&&(i.minDensity=t,i.maxDensity=s,i.gradient=this._gradient,e.bitmap.invalidateTexture())}))}}hitTest(){return Promise.resolve([])}install(e){e.addChild(this._container)}uninstall(e){this._container.removeAllChildren(),e.removeChild(this._container)}disposeTile(e){this._container.removeChild(e),e.destroy()}supportsRenderer(e){return e&&\"heatmap\"===e.type}onTileData(e){const t=this.tiles.get(e.tileKey);if(!t)return;const i=e.intensityInfo,{minDensity:s,maxDensity:r}=this._intensityInfo,o=t.bitmap.source||new n;o.intensities=i&&i.matrix||null,o.minDensity=s,o.maxDensity=r,o.gradient=this._gradient,t.bitmap.source=o,this._container.addChild(t),this._container.requestRender(),this.requestUpdate()}onTileError(e){console.error(e)}lockGPUUploads(){}unlockGPUUploads(){}fetchResource(e,t){return console.error(e),Promise.reject()}};o=e([t(\"esri.views.2d.layers.features.tileRenderers.HeatmapTileRenderer\")],o);const a=o;export{a as default};\n"],"names":["i","e","tiles","Map","this","clear","layer","layerView","tileInfoView","isUpdating","t","createTile","once","notifyChange","set","id","forEach","delete","key","disposeTile","isReady","requestUpdate","s","prototype","o","r","gradient","height","width","intensities","minDensity","maxDensity","_intensityInfo","type","featuresView","attributeView","initialize","requestRender","_container","getTileCoords","bitmap","resolution","getTileResolution","renderer","colorStops","_gradient","source","invalidateTexture","Promise","resolve","addChild","removeAllChildren","removeChild","destroy","get","tileKey","intensityInfo","n","matrix","console","error","reject","a"],"sourceRoot":""}